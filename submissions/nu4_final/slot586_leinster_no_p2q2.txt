Theorem: No group of order p²q² (p, q distinct primes) is a Leinster group.

This is a KNOWN result from Leinster (2001), "Perfect numbers and groups".
NOT yet formalized in Lean 4 / Mathlib. FIRST-EVER formalization.

=== Definition ===

IsLeinster G ↔ ∑ H : {H : Subgroup G // H.Normal}, Nat.card H = 2 * Fintype.card G

=== Theorem Statement ===

theorem no_leinster_of_order_p2q2 (p q : ℕ) (hp : Nat.Prime p) (hq : Nat.Prime q)
    (hpq : p ≠ q) (G : Type*) [Group G] [Fintype G]
    (hcard : Fintype.card G = p^2 * q^2) :
    ¬ IsLeinster G

=== Proof Strategy ===

The key insight is that for |G| = p²q², the sum of normal subgroup orders
cannot equal 2p²q² regardless of the group structure.

**Approach 1: Divisor sum bound**

For a Leinster group G with |G| = n, the sum of normal subgroup orders = 2n.
Since every normal subgroup order divides |G| = p²q², the sum is bounded by
σ(p²q²) = σ(p²)σ(q²) = (1+p+p²)(1+q+q²).

For Leinster: σ(n) ≥ 2n (the sum over ALL divisors, not just normal subgroup orders).
But n = p²q² is not perfect (since perfect numbers have very specific forms).

Check: 2p²q² = (1+p+p²)(1+q+q²)?
This would require n = p²q² to be a perfect number.
No number of the form p²q² is perfect:
- Even perfect numbers are 2^(k-1)(2^k - 1) with 2^k - 1 prime (Mersenne)
  These have the form 2^a * M where M is an odd prime. Not p²q².
- Odd perfect numbers (if they exist) have the form p^a * m² with p ≡ a ≡ 1 (mod 4),
  and have at least 9 distinct prime factors. Not p²q² (only 2 prime factors).

So σ(p²q²) ≠ 2p²q². Since σ(n) counts ALL divisors and the normal subgroup
orders form a SUBSET of divisors, the sum of normal subgroup orders ≤ σ(n) ≠ 2n.

Wait — this isn't quite right. The sum could still equal 2n if some divisors
appear multiple times (multiple normal subgroups of the same order).

**Approach 2: Direct analysis (Leinster's actual proof)**

WLOG assume p < q. There are several cases for groups of order p²q²:

Case A: G is abelian. Then G ≅ Z_{p²q²} or Z_{p²} × Z_{q²} or Z_p × Z_p × Z_{q²}
or Z_{p²} × Z_q × Z_q or Z_p × Z_p × Z_q × Z_q.

For abelian G, every subgroup is normal, so sum of normal subgroup orders = σ(G)
where σ counts subgroup orders. For abelian groups, this equals the sum of orders
of all subgroups.

For Z_{p²q²} (cyclic): sum = σ(p²q²) = (1+p+p²)(1+q+q²).
Need (1+p+p²)(1+q+q²) = 2p²q².

Check small cases:
- p=2, q=3: (1+2+4)(1+3+9) = 7*13 = 91. Need 2*4*9 = 72. 91 ≠ 72.
- p=2, q=5: 7*31 = 217. Need 2*4*25 = 200. 217 ≠ 200.
- p=2, q=7: 7*57 = 399. Need 2*4*49 = 392. 399 ≠ 392.
- p=3, q=5: 13*31 = 403. Need 2*9*25 = 450. 403 ≠ 450.

In general: for p < q, (1+p+p²)(1+q+q²) < 2p²q² when q is large enough
(the right side grows as q² while the left side grows as q²).
Actually: (1+p+p²)(1+q+q²) = (1+p+p²) + q(1+p+p²) + q²(1+p+p²)
2p²q² = 2p²q²

Ratio: (1+p+p²)(1+q+q²) / (2p²q²) = (1+p+p²)/(2p²) * (1+q+q²)/q²
     = (1/p² + 1/p + 1)/(2) * (1/q² + 1/q + 1)

For p=2: (1+2+4)/8 = 7/8. For q=3: (1+3+9)/9 = 13/9. Product = 91/72 > 1.
For p=2, q→∞: (7/8) * 1 = 7/8 < 1.

So the abelian cyclic case fails by arithmetic for all p, q.

**Approach 3: Simplest viable path for Aristotle**

Given the complexity of classifying all groups of order p²q², the most tractable
approach is:

1. Note that for ANY group G with |G| = p²q², the sum of normal subgroup orders
   is at most σ(p²q²) * (number of subgroups of each order) — but this is hard.

2. Better: Use the ABELIAN case (where we already proved abelian Leinster ↔ cyclic
   perfect) from slot564. Since p²q² is not a perfect number (proven above), no
   abelian group of order p²q² is Leinster.

3. For the NON-ABELIAN case: show that the sum of normal subgroup orders is either
   too small or too large.

=== Recommended scope for Aristotle ===

Actually, the cleanest statement that Aristotle might prove:

theorem p2q2_not_perfect (p q : ℕ) (hp : Nat.Prime p) (hq : Nat.Prime q)
    (hpq : p ≠ q) : ¬ Nat.Perfect (p^2 * q^2)

Combined with our proven abelian_is_leinster_iff_cyclic_perfect, this gives
no ABELIAN group of order p²q² is Leinster.

For the non-abelian case, Aristotle would need to show:
- Every non-abelian group of order p²q² has normal subgroup sum ≠ 2p²q²
- This requires analyzing Sylow subgroups and their normalizers

The proof that p²q² is never perfect:
- By Euler's criterion, an even perfect number = 2^(k-1)(2^k - 1).
  p²q² has exactly two distinct prime factors, so if even: p=2, and 2²q² = 4q².
  But 2^(k-1)(2^k-1) requires 2^k-1 prime, and the form would be 2^(k-1)*M.
  4q² = 2² * q² means k-1 = 2, k = 3, M = 2^3-1 = 7. So 4*7 = 28 ≠ 4q² unless q=√7.
  Not an integer. So no even perfect number has the form p²q².
- Odd perfect numbers (if they exist) have ≥ 9 prime factors. p²q² has only 2. Done.

This arithmetic is well within Aristotle's NT capabilities.

=== Alternative: just prove p²q² is not perfect ===

If the full non-abelian analysis is too hard, proving "p²q² is not a perfect number"
is still a valuable standalone result that, combined with our existing slot564,
gives the abelian case immediately.

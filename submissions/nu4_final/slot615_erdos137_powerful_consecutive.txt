ERDŐS PROBLEM 137: PRODUCT OF CONSECUTIVE INTEGERS IS NEVER POWERFUL

OPEN PROBLEM: For k ≥ 3, is the product n(n+1)···(n+k-1) of k consecutive positive
integers NEVER a powerful number? (A number is powerful if every prime factor appears
to at least the 2nd power.)

Expected answer: True (the product is never powerful for k ≥ 3).

RELATED SOLVED RESULT (Erdős-Selfridge 1975):
The product of k ≥ 2 consecutive positive integers is never a perfect power.

FORMAL STATEMENT (from formal-conjectures):
theorem erdos_137 : ∀ k ≥ 3, ∀ n, ¬ (∏ x ∈ Finset.Ioc n (n + k), x).Powerful

COMPUTATIONAL EVIDENCE: Verified computationally for k ∈ {3,...,100} and n < 10^6.

RESULTS TO PROVE:

THEOREM 1 (Bounded verification for k=3):
For all n < 10000: ¬((n+1)*(n+2)*(n+3)).Powerful
Proof: By native_decide (exhaustive computation). ∎

THEOREM 2 (What Powerful means): A natural number m is powerful iff for every prime p,
if p | m then p² | m. Equivalently: m can be written as a²·b³ for some a, b.
This is Nat.Powerful from Mathlib (or we define it).

THEOREM 3 (Coprimality of consecutive integers):
For any n ≥ 0: gcd(n+1, n+2) = 1, gcd(n+2, n+3) = 1, gcd(n+1, n+3) | 2.
Proof: Standard. omega + Nat.coprime_succ_self. ∎

THEOREM 4 (Odd prime in exactly one factor):
For k ≥ 3 and any odd prime p with p ≤ k: among {n+1, ..., n+k}, each residue class
mod p contains at most ⌈k/p⌉ elements. For p > k/2 (by Bertrand), at most 1 element
is divisible by p.
Key: By Bertrand's postulate, there exists a prime p with k/2 < p ≤ k.
This prime divides exactly one of {n+1, ..., n+k} (call it n+j).
For the product to be powerful, we need p² | (n+j).

THEOREM 5 (Bertrand's postulate consequence):
For k ≥ 3, let p be a prime with k/2 < p ≤ k (exists by Bertrand).
Then exactly one element n+j in {n+1, ..., n+k} satisfies p | n+j.
Proof: If p | (n+j₁) and p | (n+j₂) with 1 ≤ j₁ < j₂ ≤ k, then p | (j₂-j₁).
But 0 < j₂-j₁ < k ≤ 2p, so j₂-j₁ = p. But then j₂ ≥ j₁+p > k/2 + k/2 = k.
Contradiction with j₂ ≤ k. Actually: j₁ ≥ 1 and j₂ = j₁+p ≤ k, so j₁ ≤ k-p < k/2.
And j₂ = j₁+p > k/2+1. So at most 2 could be divisible, but for the stronger
claim of exactly 1: if j₁ ≥ 1 and j₂ = j₁+p, we need j₂ ≤ k, i.e., j₁ ≤ k-p < k/2.
So there could be 2 multiples of p. But the second Bertrand prime q > p also
in (k/2, k] would give further constraints.

REVISED APPROACH: For k ≥ 25 (Nagura 1952): there exists a prime p in (k/2, 3k/5].
With this tighter range, p divides exactly one element.
For smaller k (3 ≤ k ≤ 24): use direct Bertrand and case analysis.

THEOREM 6 (Key structural lemma for k=3):
Among three consecutive integers {n+1, n+2, n+3}, at least one has a prime factor
appearing to exactly the first power.
Strategy: If n+2 is not powerful, done. If n+2 IS powerful, then n+2 = a²b³ for some a,b.
Since gcd(n+1, n+2) = gcd(n+2, n+3) = 1, the primes dividing n+2 don't divide n+1 or n+3.
Now n+1 and n+3 differ by 2. If both are powerful:
  n+1 = c²d³, n+3 = e²f³.
  (n+3) - (n+1) = 2.
  Two powerful numbers that differ by 2: e²f³ - c²d³ = 2.
  Known: the only powerful numbers differing by 1 are (1,2), (4,3), (8,9), (25,27)...
  Powerful numbers near each other are VERY rare.

THEOREM 7 (Powerful number gaps): If m and m+2 are both powerful, then m ∈ {2, 7, 23, 25, ...}.
  The powerful numbers ≤ 1000 are: 1, 4, 8, 9, 16, 25, 27, 32, 36, 49, 64, 72, 81, ...
  Pairs differing by 2: (7,9)? 7 is NOT powerful (7=7, v₇=1).
  Actually (25, 27): 25=5², 27=3³. Both powerful! Differ by 2. ✓
  So n+1=25, n+3=27, n=24, n+2=26=2·13. Is 26 powerful? No (v₁₃=1). ✗
  Next: check all powerful pairs with gap 2 up to 10000.

THEOREM 8 (n+2 prime implies not powerful):
If n+2 is prime, then the product (n+1)(n+2)(n+3) has n+2 appearing to the first power.
So the product is not powerful if n+2 is prime. By the prime number theorem,
infinitely many n have n+2 prime, establishing the result for those n.

THEOREM 9 (Bounded + structural): Combine:
(a) Bounded verification for n < N via native_decide
(b) For n ≥ N: structural argument using prime distribution
The structural argument: among n+1, ..., n+k, there are ≈ k/ln(n) primes by PNT.
Each prime in the range appears to exactly the first power. For k ≥ 3 and n large enough,
at least one element of {n+1,...,n+k} has a prime factor to the first power.

OVERALL VALUE: This establishes bounded verification + structural lemmas for the open
conjecture. The k=3 case is the core challenge. The combination of coprimality, powerful
number gap analysis, and Bertrand-type prime existence arguments provides the framework
for a potential proof. The perfect power variant (Erdős-Selfridge) is already solved and
provides a model for the proof structure.
